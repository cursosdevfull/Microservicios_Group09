"use strict";var __importDefault=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.UserInfrastructure=void 0;const neverthrow_1=require("neverthrow"),Error_1=require("../../helpers/Error"),user_created_dto_1=require("./dtos/user-created.dto"),user_model_1=__importDefault(require("./models/user.model"));class UserInfrastructure{async create(r){try{return await user_model_1.default.create(r.properties()),(0,neverthrow_1.ok)(user_created_dto_1.UserCreatedDto.fromDomainToResponse(r))}catch(r){const e=new Error_1.IError("Error creating user");return(0,neverthrow_1.err)(e)}}}exports.UserInfrastructure=UserInfrastructure;